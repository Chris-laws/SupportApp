flowchart LR
    UI[Chat-Frontend] -- HTTP/REST --> Service[FastAPI-Service]
    Service -- Templates --> UI
    Service -- In-Memory Calls --> Retriever[Hybrid-Retriever]
    Retriever -- Kandidaten --> Service
    Retriever -- Score-Listen --> Reranker[Cross-Encoder]
    Reranker -- Re-Ranked --> Service
    Service -- Prompt JSON --> LLM[Ollama LLM]
    LLM -- Antworttext --> Service
    Service -- File/Local --> DataStore[(Dokumente \n FAISS \n Metadaten)]
    Retriever -- Read/Write --> DataStore
